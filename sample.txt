/**
 * Waits for an element to be clickable, clears its content, and types the given text.
 *
 * @param locator The By locator of the web element.
 * @param text The text to type into the element.
 */
public void type(By locator, String text) {
    try {
        // Wait for the element to be present, visible, AND enabled.
        WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10))
                .until(ExpectedConditions.elementToBeClickable(locator));

        // Use the reliable key-combination to clear the field.
        element.sendKeys(Keys.CONTROL + "a");
        element.sendKeys(Keys.DELETE);

        // Type the desired text.
        element.sendKeys(text);
        
        // Optional: Log a success message for detailed reporting.
        // ExtentManager.getTest().pass("Successfully typed '" + text + "' into " + locator);

    } catch (TimeoutException e) {
        // Log a descriptive failure message and fail the test.
        ExtentManager.getTest().fail("ERROR: Timed out waiting to type into element: " + locator);
        throw e; // Re-throw to ensure test execution stops.
    }
}
